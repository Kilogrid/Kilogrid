<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Kilogrid: src/module/module.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kilogrid
   </div>
   <div id="projectbrief">Kilogrid library documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('module_8c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">module.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;avr/wdt.h&gt;</code><br />
<code>#include &lt;avr/interrupt.h&gt;</code><br />
<code>#include &lt;avr/eeprom.h&gt;</code><br />
<code>#include &lt;util/delay.h&gt;</code><br />
<code>#include &quot;<a class="el" href="module_8h_source.html">module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="module_i_r_8h_source.html">moduleIR.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="module_l_e_d_8h_source.html">moduleLED.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_a_d_c_8h_source.html">ADC.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="module_2_i_o_8h_source.html">IO.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="eeprom_8h_source.html">eeprom.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="kilogrid_8h_source.html">kilogrid.h</a>&gt;</code><br />
<code>#include &lt;bootldr.h&gt;</code><br />
<code>#include &lt;debug.h&gt;</code><br />
<code>#include &lt;<a class="el" href="rand_8h_source.html">rand.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_c_a_n_8h_source.html">CAN.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="message_8h_source.html">message.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="message__crc_8h_source.html">message_crc.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="ringbuffer_8h_source.html">ringbuffer.h</a>&gt;</code><br />
</div>
<p><a href="module_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a19c782b86531195d0c593fa944e3ba37"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a19c782b86531195d0c593fa944e3ba37">ADC_TRIGGER_STOP</a>()&#160;&#160;&#160;ADCSRA &amp;= ~(1&lt;&lt;ADATE)</td></tr>
<tr class="separator:a19c782b86531195d0c593fa944e3ba37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28bda91ee17b97f1fb376c6ed4613572"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a28bda91ee17b97f1fb376c6ed4613572">_static</a></td></tr>
<tr class="separator:a28bda91ee17b97f1fb376c6ed4613572"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a61dadd085c1777f559549e05962b2c9e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="module_8c.html#a61dadd085c1777f559549e05962b2c9ea1ce29fa3a64261c974ec59bd48eddcaa">MODULE_INIT</a> = 0x00, 
<a class="el" href="module_8c.html#a61dadd085c1777f559549e05962b2c9eae1ce44109b8b05d785845b27282a8083">MODULE_IDLE</a>, 
<a class="el" href="module_8c.html#a61dadd085c1777f559549e05962b2c9eae6f78a66e6aca4c4918fdde349703a74">MODULE_SETUP_KILOBOTS</a>, 
<a class="el" href="module_8c.html#a61dadd085c1777f559549e05962b2c9ea558f5e2b43ce803a633530f1ae7a0004">MODULE_WAITING_FOR_KILOBOT_BOOTPAGE</a>, 
<br />
&#160;&#160;<a class="el" href="module_8c.html#a61dadd085c1777f559549e05962b2c9eaa1624691c941f71c326a2b957fa2565b">MODULE_BOOTLOADING_KILOBOTS</a>, 
<a class="el" href="module_8c.html#a61dadd085c1777f559549e05962b2c9ea9bc8056a3a210be4de9176bc274e82a8">MODULE_WAITING_FOR_CONFIGURATION_DATA</a>, 
<a class="el" href="module_8c.html#a61dadd085c1777f559549e05962b2c9ea687af892f8f478aed4bda724873b361b">MODULE_SETUP</a>, 
<a class="el" href="module_8c.html#a61dadd085c1777f559549e05962b2c9eab442fecb173ae968dcea882f8429b645">MODULE_RUNNING</a>
<br />
 }</td></tr>
<tr class="memdesc:a61dadd085c1777f559549e05962b2c9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Module states.  <a href="module_8c.html#a61dadd085c1777f559549e05962b2c9e">More...</a><br /></td></tr>
<tr class="separator:a61dadd085c1777f559549e05962b2c9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1f5cd7c71c427c89cdad0d33a8c45fbc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a1f5cd7c71c427c89cdad0d33a8c45fbc">RB_create</a> (CAN_message_tx_buffer, <a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a>, <a class="el" href="module_8h.html#a20e01ad85d354ff599a1003e82feba40">CAN_MESSAGE_BUFFER_SIZE</a>)</td></tr>
<tr class="memdesc:a1f5cd7c71c427c89cdad0d33a8c45fbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">CAN messages buffer that contains the CAN user messages to be sent.  <a href="#a1f5cd7c71c427c89cdad0d33a8c45fbc">More...</a><br /></td></tr>
<tr class="separator:a1f5cd7c71c427c89cdad0d33a8c45fbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c9547918d2afd1ead76a6bb3b512557"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a8c9547918d2afd1ead76a6bb3b512557">CAN_message_rx_dummy</a> (<a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a> *m)</td></tr>
<tr class="memdesc:a8c9547918d2afd1ead76a6bb3b512557"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty dummy callback function for CAN rx handling.  <a href="#a8c9547918d2afd1ead76a6bb3b512557">More...</a><br /></td></tr>
<tr class="separator:a8c9547918d2afd1ead76a6bb3b512557"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a993ef8416e6cef9788d18d128690ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a4a993ef8416e6cef9788d18d128690ef">IR_message_rx_dummy</a> (<a class="el" href="struct_i_r__message__t.html">IR_message_t</a> *m, <a class="el" href="module_8h.html#ad41e991130dba604949e16c69d31fd52">cell_num_t</a> sc, <a class="el" href="structdistance__measurement__t.html">distance_measurement_t</a> *d, uint8_t CRC_error)</td></tr>
<tr class="memdesc:a4a993ef8416e6cef9788d18d128690ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty dummy callback function for IR rx handling.  <a href="#a4a993ef8416e6cef9788d18d128690ef">More...</a><br /></td></tr>
<tr class="separator:a4a993ef8416e6cef9788d18d128690ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca34d0355fd70dae658a06043054e9cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#aca34d0355fd70dae658a06043054e9cc">IR_message_tx_success_dummy</a> (<a class="el" href="module_8h.html#ad41e991130dba604949e16c69d31fd52">cell_num_t</a> sc)</td></tr>
<tr class="memdesc:aca34d0355fd70dae658a06043054e9cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty dummy callback function for IR tx handling.  <a href="#aca34d0355fd70dae658a06043054e9cc">More...</a><br /></td></tr>
<tr class="separator:aca34d0355fd70dae658a06043054e9cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e9cfb3f5d469b4de20e329b56d16f0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a9e9cfb3f5d469b4de20e329b56d16f0b">CAN_message_tx_success_dummy</a> ()</td></tr>
<tr class="memdesc:a9e9cfb3f5d469b4de20e329b56d16f0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty dummy callback for the CAN tx success handling.  <a href="#a9e9cfb3f5d469b4de20e329b56d16f0b">More...</a><br /></td></tr>
<tr class="separator:a9e9cfb3f5d469b4de20e329b56d16f0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa117d789c586c2d61de729319472d0a7"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#aa117d789c586c2d61de729319472d0a7">send_next_CAN_message</a> ()</td></tr>
<tr class="memdesc:aa117d789c586c2d61de729319472d0a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used internally to send the next message on the CAN message tx buffer. The function is called by the main while(1) loop (see <a class="el" href="module_8c.html#af7b551eec3a778c715ff2a6bbdde7343" title="Start module event loop. ">module_start()</a> function) at each iteration (best effort). It is the duty of the user to place CAN messages on the buffer through the add_CAN_message_to_buffer() function.  <a href="#aa117d789c586c2d61de729319472d0a7">More...</a><br /></td></tr>
<tr class="separator:aa117d789c586c2d61de729319472d0a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdd11cfbecd7e82e739f6452d431cdfc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#abdd11cfbecd7e82e739f6452d431cdfc">CAN_message_sent</a> ()</td></tr>
<tr class="separator:abdd11cfbecd7e82e739f6452d431cdfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab11a5d77be2222a37d0b47e6556251f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#ab11a5d77be2222a37d0b47e6556251f7">init_serial</a> (void)</td></tr>
<tr class="memdesc:ab11a5d77be2222a37d0b47e6556251f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the UART for data logging through serial. This function assumes a F_CPU clock of 8 MHz.  <a href="#ab11a5d77be2222a37d0b47e6556251f7">More...</a><br /></td></tr>
<tr class="separator:ab11a5d77be2222a37d0b47e6556251f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3d238a5bdc23010d1145f536ade773c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#ae3d238a5bdc23010d1145f536ade773c">goto_bootloader</a> ()</td></tr>
<tr class="memdesc:ae3d238a5bdc23010d1145f536ade773c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that makes the program jump directly to the bootloader section of the FLASH (NRWW region).  <a href="#ae3d238a5bdc23010d1145f536ade773c">More...</a><br /></td></tr>
<tr class="separator:ae3d238a5bdc23010d1145f536ade773c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e1725443c1611ceeb412f316384f6d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a5e1725443c1611ceeb412f316384f6d1">send_IR_message</a> (<a class="el" href="struct_i_r__message__t.html">IR_message_t</a> *m, <a class="el" href="module_8h.html#ad41e991130dba604949e16c69d31fd52">cell_num_t</a> <a class="el" href="jquery_8js.html#abce695e0af988ece0826d9ad59b8160d">c</a>)</td></tr>
<tr class="memdesc:a5e1725443c1611ceeb412f316384f6d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message to be sent on cell number "sc" without delay.  <a href="#a5e1725443c1611ceeb412f316384f6d1">More...</a><br /></td></tr>
<tr class="separator:a5e1725443c1611ceeb412f316384f6d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1437b94490bc9d60c1164995357a82f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#af1437b94490bc9d60c1164995357a82f">module_init</a> (void)</td></tr>
<tr class="memdesc:af1437b94490bc9d60c1164995357a82f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize module hardware.  <a href="#af1437b94490bc9d60c1164995357a82f">More...</a><br /></td></tr>
<tr class="separator:af1437b94490bc9d60c1164995357a82f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7b551eec3a778c715ff2a6bbdde7343"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#af7b551eec3a778c715ff2a6bbdde7343">module_start</a> (void(*setup)(void), void(*loop)(void))</td></tr>
<tr class="memdesc:af7b551eec3a778c715ff2a6bbdde7343"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start module event loop.  <a href="#af7b551eec3a778c715ff2a6bbdde7343">More...</a><br /></td></tr>
<tr class="separator:af7b551eec3a778c715ff2a6bbdde7343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a591a700830ee54b6b885b75274c5ee70"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a591a700830ee54b6b885b75274c5ee70">module_enable_autostart</a> ()</td></tr>
<tr class="separator:a591a700830ee54b6b885b75274c5ee70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0fd788116ecf03b0135e0a3bda83aef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#ae0fd788116ecf03b0135e0a3bda83aef">next_CAN_message</a> ()</td></tr>
<tr class="separator:ae0fd788116ecf03b0135e0a3bda83aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afea150fcd685610cb9f7672fce361e53"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#afea150fcd685610cb9f7672fce361e53">ISR</a> (INT0_vect)</td></tr>
<tr class="memdesc:afea150fcd685610cb9f7672fce361e53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt Service Routine for INT0 (PD2 - nCAN_INT pin). The ISR is triggered by the reception of CAN messages.  <a href="#afea150fcd685610cb9f7672fce361e53">More...</a><br /></td></tr>
<tr class="separator:afea150fcd685610cb9f7672fce361e53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:abd5b888083a5570e90672c011ee362ff"><td class="memItemLeft" align="right" valign="top">volatile uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#abd5b888083a5570e90672c011ee362ff">module_uid</a></td></tr>
<tr class="memdesc:abd5b888083a5570e90672c011ee362ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">module identifier  <a href="#abd5b888083a5570e90672c011ee362ff">More...</a><br /></td></tr>
<tr class="separator:abd5b888083a5570e90672c011ee362ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae891f0f856ee69d3666b5207521350b5"><td class="memItemLeft" align="right" valign="top">volatile uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#ae891f0f856ee69d3666b5207521350b5">module_ticks</a></td></tr>
<tr class="memdesc:ae891f0f856ee69d3666b5207521350b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">internal clock (updated in tx ISR)  <a href="#ae891f0f856ee69d3666b5207521350b5">More...</a><br /></td></tr>
<tr class="separator:ae891f0f856ee69d3666b5207521350b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7950c5d60d72b43b21cd367c8f9def5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="module_8c.html#a28bda91ee17b97f1fb376c6ed4613572">_static</a> volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#ac7950c5d60d72b43b21cd367c8f9def5">module_uid_x_coord</a></td></tr>
<tr class="separator:ac7950c5d60d72b43b21cd367c8f9def5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a292c9329c1b7fe8091a1f0a4b61a8b37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="module_8c.html#a28bda91ee17b97f1fb376c6ed4613572">_static</a> volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a292c9329c1b7fe8091a1f0a4b61a8b37">module_uid_y_coord</a></td></tr>
<tr class="separator:a292c9329c1b7fe8091a1f0a4b61a8b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a508888349b30efe9dcab3e594b2bba0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a508888349b30efe9dcab3e594b2bba0e">CAN_message_rx</a></td></tr>
<tr class="separator:a508888349b30efe9dcab3e594b2bba0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc06db6d3732919c3982ced1c0ce1498"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#abc06db6d3732919c3982ced1c0ce1498">CAN_message_bootpage</a></td></tr>
<tr class="separator:abc06db6d3732919c3982ced1c0ce1498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2827902580541601e5b7047fea047fc3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a2827902580541601e5b7047fea047fc3">CAN_message_rx_buffer</a></td></tr>
<tr class="memdesc:a2827902580541601e5b7047fea047fc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores received message until process_CAN_message transfers it into either CAN_message_rx or CAN_message_bootpage depending on the type if the message.  <a href="#a2827902580541601e5b7047fea047fc3">More...</a><br /></td></tr>
<tr class="separator:a2827902580541601e5b7047fea047fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a048601749935157751b5dcfbd449477a"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4">CAN_message_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a048601749935157751b5dcfbd449477a">CAN_msg_type</a></td></tr>
<tr class="memdesc:a048601749935157751b5dcfbd449477a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of the received CAN message. The switch in process_CAN_message is done based on this value.  <a href="#a048601749935157751b5dcfbd449477a">More...</a><br /></td></tr>
<tr class="separator:a048601749935157751b5dcfbd449477a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e1bc79100609645f39911a1bdcf91ee"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a1e1bc79100609645f39911a1bdcf91ee">fCAN_debug_rx</a></td></tr>
<tr class="separator:a1e1bc79100609645f39911a1bdcf91ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cba93d333ba694d3eced49d6ebb5a25"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a1cba93d333ba694d3eced49d6ebb5a25">page_total</a></td></tr>
<tr class="memdesc:a1cba93d333ba694d3eced49d6ebb5a25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the number of bootpages contained in the bootloader. Triggered by a CAN_FORWARD_IR_MESSAGE IR message with IR message type BOOTPGM_SIZE.  <a href="#a1cba93d333ba694d3eced49d6ebb5a25">More...</a><br /></td></tr>
<tr class="separator:a1cba93d333ba694d3eced49d6ebb5a25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8604e8d580047bb41a74cc4827786662"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a8604e8d580047bb41a74cc4827786662">page_count</a> = 0</td></tr>
<tr class="memdesc:a8604e8d580047bb41a74cc4827786662"><td class="mdescLeft">&#160;</td><td class="mdescRight">Index of current bootpage we are receiving.  <a href="#a8604e8d580047bb41a74cc4827786662">More...</a><br /></td></tr>
<tr class="separator:a8604e8d580047bb41a74cc4827786662"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac245b61f7ae1ec5f068424c180775769"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#ac245b61f7ae1ec5f068424c180775769">page_address</a></td></tr>
<tr class="memdesc:ac245b61f7ae1ec5f068424c180775769"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of current bootpage, sent in a CAN_KILO_BOOTPAGE_NUMBER CAN message.  <a href="#ac245b61f7ae1ec5f068424c180775769">More...</a><br /></td></tr>
<tr class="separator:ac245b61f7ae1ec5f068424c180775769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a095e2496d849e8915cbf2dd1228f375e"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a095e2496d849e8915cbf2dd1228f375e">page_offset</a></td></tr>
<tr class="memdesc:a095e2496d849e8915cbf2dd1228f375e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Position of the next data byte in the current_bootpage.data array.  <a href="#a095e2496d849e8915cbf2dd1228f375e">More...</a><br /></td></tr>
<tr class="separator:a095e2496d849e8915cbf2dd1228f375e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a679592ca3ee357154d3813027b9ca1"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a9a679592ca3ee357154d3813027b9ca1">bootpage_sent</a></td></tr>
<tr class="memdesc:a9a679592ca3ee357154d3813027b9ca1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if current bootpage was sent (send only once).  <a href="#a9a679592ca3ee357154d3813027b9ca1">More...</a><br /></td></tr>
<tr class="separator:a9a679592ca3ee357154d3813027b9ca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc268f75b3f7cfeffc0bd5f15c7ac1e3"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#adc268f75b3f7cfeffc0bd5f15c7ac1e3">bootpage_faulty</a></td></tr>
<tr class="memdesc:adc268f75b3f7cfeffc0bd5f15c7ac1e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates whether a received bootpage was faulty, should not be sent to the kilobot.  <a href="#adc268f75b3f7cfeffc0bd5f15c7ac1e3">More...</a><br /></td></tr>
<tr class="separator:adc268f75b3f7cfeffc0bd5f15c7ac1e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac18cd18a110a2b011f66fcde0211d639"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="module_8h.html#ad41e991130dba604949e16c69d31fd52">cell_num_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#ac18cd18a110a2b011f66fcde0211d639">bootloading_current_cell</a> = <a class="el" href="module_8h.html#ad41e991130dba604949e16c69d31fd52adea8e35755fa99521edd9dd6e6e35ab6">CELL_00</a></td></tr>
<tr class="memdesc:ac18cd18a110a2b011f66fcde0211d639"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to send the Kilobot program with the different cells, and switch from one cell to the other after sending the whole program.  <a href="#ac18cd18a110a2b011f66fcde0211d639">More...</a><br /></td></tr>
<tr class="separator:ac18cd18a110a2b011f66fcde0211d639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac83309c81a38fa43aef501b7612f7384"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="structbootpage__data__bytes__t.html">bootpage_data_bytes_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#ac83309c81a38fa43aef501b7612f7384">current_bootpage</a></td></tr>
<tr class="memdesc:ac83309c81a38fa43aef501b7612f7384"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bootpage data is loaded into this buffer from the CAN messages.  <a href="#ac83309c81a38fa43aef501b7612f7384">More...</a><br /></td></tr>
<tr class="separator:ac83309c81a38fa43aef501b7612f7384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a907212931c9d659eb043e2f5ab3a5f09"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a907212931c9d659eb043e2f5ab3a5f09">previous_CAN_msg_number</a></td></tr>
<tr class="separator:a907212931c9d659eb043e2f5ab3a5f09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d1376bc5cc9188ce6f0c45d70f87834"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_i_r__message__t.html">IR_message_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a3d1376bc5cc9188ce6f0c45d70f87834">IR_setup_message</a></td></tr>
<tr class="memdesc:a3d1376bc5cc9188ce6f0c45d70f87834"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct that carries the message to send to the kilobots during the setup phase, used by CAN_FORWARD_IR_MESSAGE of process_CAN_message.  <a href="#a3d1376bc5cc9188ce6f0c45d70f87834">More...</a><br /></td></tr>
<tr class="separator:a3d1376bc5cc9188ce6f0c45d70f87834"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a447099e5fd21d6f33474f25b7e1b7a0c"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a447099e5fd21d6f33474f25b7e1b7a0c">received_setup</a></td></tr>
<tr class="separator:a447099e5fd21d6f33474f25b7e1b7a0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afca12480ff20cf641fd62192be90e91f"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#afca12480ff20cf641fd62192be90e91f">brightness_idle</a> = 0</td></tr>
<tr class="memdesc:afca12480ff20cf641fd62192be90e91f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Brightness of the LEDs in idle state.  <a href="#afca12480ff20cf641fd62192be90e91f">More...</a><br /></td></tr>
<tr class="separator:afca12480ff20cf641fd62192be90e91f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad20682e23ce54e0c9fad6bcbaa834e60"><td class="memItemLeft" align="right" valign="top">volatile int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#ad20682e23ce54e0c9fad6bcbaa834e60">brightness_dir</a></td></tr>
<tr class="memdesc:ad20682e23ce54e0c9fad6bcbaa834e60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if the brightness is decreasing (-1) or increasing (1).  <a href="#ad20682e23ce54e0c9fad6bcbaa834e60">More...</a><br /></td></tr>
<tr class="separator:ad20682e23ce54e0c9fad6bcbaa834e60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb6278f92a997646e6bee1b2f9f60735"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#afb6278f92a997646e6bee1b2f9f60735">configuration_faulty</a></td></tr>
<tr class="memdesc:afb6278f92a997646e6bee1b2f9f60735"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 if not all configuration data was received.  <a href="#afb6278f92a997646e6bee1b2f9f60735">More...</a><br /></td></tr>
<tr class="separator:afb6278f92a997646e6bee1b2f9f60735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a482e996c53369093dfb24b58ed4b2904"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a482e996c53369093dfb24b58ed4b2904">configuration_total</a></td></tr>
<tr class="memdesc:a482e996c53369093dfb24b58ed4b2904"><td class="mdescLeft">&#160;</td><td class="mdescRight">Value from 1 to 8: number of CAN messages with configuration data.  <a href="#a482e996c53369093dfb24b58ed4b2904">More...</a><br /></td></tr>
<tr class="separator:a482e996c53369093dfb24b58ed4b2904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a1a7ed1d191f92f3b5f460670fec4fc"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a3a1a7ed1d191f92f3b5f460670fec4fc">configuration_msg_counter</a></td></tr>
<tr class="memdesc:a3a1a7ed1d191f92f3b5f460670fec4fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">ID of the currently received configuration segment.  <a href="#a3a1a7ed1d191f92f3b5f460670fec4fc">More...</a><br /></td></tr>
<tr class="separator:a3a1a7ed1d191f92f3b5f460670fec4fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ae803f5bb787a1ff95d2377ec1b8d41"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a9ae803f5bb787a1ff95d2377ec1b8d41">configuration_size</a></td></tr>
<tr class="memdesc:a9ae803f5bb787a1ff95d2377ec1b8d41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of configuration data in bytes.  <a href="#a9ae803f5bb787a1ff95d2377ec1b8d41">More...</a><br /></td></tr>
<tr class="separator:a9ae803f5bb787a1ff95d2377ec1b8d41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a56eb142377a15124e920a16a3f20d7"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a8a56eb142377a15124e920a16a3f20d7">configuration</a> [<a class="el" href="module_8h.html#abd5d6c9bae8df588faa703eb2dd65733">MODULE_CONFIGURATION_BUFFER_SIZE</a>]</td></tr>
<tr class="memdesc:a8a56eb142377a15124e920a16a3f20d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration data.  <a href="#a8a56eb142377a15124e920a16a3f20d7">More...</a><br /></td></tr>
<tr class="separator:a8a56eb142377a15124e920a16a3f20d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72687b06d1fe951282845591369abb92"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a72687b06d1fe951282845591369abb92">has_started</a></td></tr>
<tr class="memdesc:a72687b06d1fe951282845591369abb92"><td class="mdescLeft">&#160;</td><td class="mdescRight">To execute code once before running the loop() variable.  <a href="#a72687b06d1fe951282845591369abb92">More...</a><br /></td></tr>
<tr class="separator:a72687b06d1fe951282845591369abb92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a509952f72536eb618786a02b40505686"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a509952f72536eb618786a02b40505686">messages_to_send</a> = 0</td></tr>
<tr class="separator:a509952f72536eb618786a02b40505686"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a285a2240e12d130c50216b18f51e32f9"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a285a2240e12d130c50216b18f51e32f9">sending_tracking_data</a> = 0</td></tr>
<tr class="separator:a285a2240e12d130c50216b18f51e32f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf32a1002b39c6f25d04ffb98804c48c"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#abf32a1002b39c6f25d04ffb98804c48c">sent_tracking_header</a> = 0</td></tr>
<tr class="separator:abf32a1002b39c6f25d04ffb98804c48c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad705ac913fb2045865c4fb7e9b0969de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="kilogrid_8h.html#a87a8f7271d93f02214d31e4c7b90d06a">kilogrid_address_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#ad705ac913fb2045865c4fb7e9b0969de">CAN_address_to_dispatcher</a></td></tr>
<tr class="separator:ad705ac913fb2045865c4fb7e9b0969de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a73657250ad62e18f788dfaba6c9491"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a8a73657250ad62e18f788dfaba6c9491">poll_debug_led_toggle</a> = 0</td></tr>
<tr class="separator:a8a73657250ad62e18f788dfaba6c9491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92764a98133cfbb6101e099d677c010a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a92764a98133cfbb6101e099d677c010a">poll_response_message</a></td></tr>
<tr class="separator:a92764a98133cfbb6101e099d677c010a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7c8bf5218a1834d935af8389e937593"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_a_n_8h.html#ab7565ef31c096c131e47a054c1781bc6">CAN_message_rx_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#aa7c8bf5218a1834d935af8389e937593">module_CAN_message_rx</a> = <a class="el" href="module_8c.html#a8c9547918d2afd1ead76a6bb3b512557">CAN_message_rx_dummy</a></td></tr>
<tr class="memdesc:aa7c8bf5218a1834d935af8389e937593"><td class="mdescLeft">&#160;</td><td class="mdescRight">CAN message received callback. Registering an empty dummy is necessary before receiving CAN messages. Otherwise CAN messages would make the program fail when initializing.  <a href="#aa7c8bf5218a1834d935af8389e937593">More...</a><br /></td></tr>
<tr class="separator:aa7c8bf5218a1834d935af8389e937593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c8192f63e3faf60e348e3ea69bd6a08"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_a_n_8h.html#a297b7efa86f3572af1cbb4a21216defe">CAN_message_tx_success_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a7c8192f63e3faf60e348e3ea69bd6a08">module_CAN_message_tx_success</a> = <a class="el" href="module_8c.html#a9e9cfb3f5d469b4de20e329b56d16f0b">CAN_message_tx_success_dummy</a></td></tr>
<tr class="memdesc:a7c8192f63e3faf60e348e3ea69bd6a08"><td class="mdescLeft">&#160;</td><td class="mdescRight">CAN message tx success callback.  <a href="#a7c8192f63e3faf60e348e3ea69bd6a08">More...</a><br /></td></tr>
<tr class="separator:a7c8192f63e3faf60e348e3ea69bd6a08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16901b547fe4af3d10e8e1d6bf8e5d9f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="module_i_r_8h.html#ad830e370c67757ef218ba8415b71053c">IR_message_rx_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a16901b547fe4af3d10e8e1d6bf8e5d9f">module_IR_message_rx</a> = <a class="el" href="module_8c.html#a4a993ef8416e6cef9788d18d128690ef">IR_message_rx_dummy</a></td></tr>
<tr class="memdesc:a16901b547fe4af3d10e8e1d6bf8e5d9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">IR message received callback. Registering an empty dummy is necessary before receiving IR messages. Otherwise IR messages would make the program fail when initializing.  <a href="#a16901b547fe4af3d10e8e1d6bf8e5d9f">More...</a><br /></td></tr>
<tr class="separator:a16901b547fe4af3d10e8e1d6bf8e5d9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae28b76eca9dbd57024e0b6671cca5ebe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="module_i_r_8h.html#a8aaed30f0159fda4fcfc933ac20cd6e1">IR_message_tx_success_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#ae28b76eca9dbd57024e0b6671cca5ebe">module_IR_message_tx_success</a> = <a class="el" href="module_8c.html#aca34d0355fd70dae658a06043054e9cc">IR_message_tx_success_dummy</a></td></tr>
<tr class="memdesc:ae28b76eca9dbd57024e0b6671cca5ebe"><td class="mdescLeft">&#160;</td><td class="mdescRight">IR message successfully sent callback. Registering an empty dummy is necessary before sending IR messages. Otherwise IR messages would make the program fail.  <a href="#ae28b76eca9dbd57024e0b6671cca5ebe">More...</a><br /></td></tr>
<tr class="separator:ae28b76eca9dbd57024e0b6671cca5ebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a28bda91ee17b97f1fb376c6ed4613572"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _static</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="module_8c_source.html#l00084">84</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a19c782b86531195d0c593fa944e3ba37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADC_TRIGGER_STOP</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;ADCSRA &amp;= ~(1&lt;&lt;ADATE)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a61dadd085c1777f559549e05962b2c9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Module states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a61dadd085c1777f559549e05962b2c9ea1ce29fa3a64261c974ec59bd48eddcaa"></a>MODULE_INIT&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a61dadd085c1777f559549e05962b2c9eae1ce44109b8b05d785845b27282a8083"></a>MODULE_IDLE&#160;</td><td class="fielddoc">
<p>Triggered by receiving a CAN_MODULE_IDLE message. Currently pulsing LEDs indicate this state. </p>
<p>  </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a61dadd085c1777f559549e05962b2c9eae6f78a66e6aca4c4918fdde349703a74"></a>MODULE_SETUP_KILOBOTS&#160;</td><td class="fielddoc">
<p>State after receiving the second part of a CAN_FORWARD_IR_MESSAGE message, transmits the message in IR_setup_message variable on all modules. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a61dadd085c1777f559549e05962b2c9ea558f5e2b43ce803a633530f1ae7a0004"></a>MODULE_WAITING_FOR_KILOBOT_BOOTPAGE&#160;</td><td class="fielddoc">
<p>Module is waiting for bootpages. </p>
<p>Triggered by receiving a CAN_KILO_BOOTPAGE_NUMBER CAN message. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a61dadd085c1777f559549e05962b2c9eaa1624691c941f71c326a2b957fa2565b"></a>MODULE_BOOTLOADING_KILOBOTS&#160;</td><td class="fielddoc">
<p>Sends the current bootpage in 6 byte chunks to the kilobots. </p>
<p>Triggered after receiving the last bootpage on the CAN bus. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a61dadd085c1777f559549e05962b2c9ea9bc8056a3a210be4de9176bc274e82a8"></a>MODULE_WAITING_FOR_CONFIGURATION_DATA&#160;</td><td class="fielddoc">
<p>Received information about the configuration and is waiting for the data. </p>
<p>Triggered by receiving a CAN_MODULE_CONFIG_SIZE message. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a61dadd085c1777f559549e05962b2c9ea687af892f8f478aed4bda724873b361b"></a>MODULE_SETUP&#160;</td><td class="fielddoc">
<p>State entered when the module is about to start and sets up all user variables before start (via callind the user supplied setup funcion). </p>
<p>Triggered by receiving a CAN_MODULE_SETUP message. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a61dadd085c1777f559549e05962b2c9eab442fecb173ae968dcea882f8429b645"></a>MODULE_RUNNING&#160;</td><td class="fielddoc">
<p>Calls the user supplied loop function. </p>
<p>Triggered by receiving a CAN_MODULE_RUN message. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="module_8c_source.html#l00034">34</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a8c9547918d2afd1ead76a6bb3b512557"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CAN_message_rx_dummy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Empty dummy callback function for CAN rx handling. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00217">217</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="abdd11cfbecd7e82e739f6452d431cdfc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CAN_message_sent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="module_8c_source.html#l00277">277</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9e9cfb3f5d469b4de20e329b56d16f0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CAN_message_tx_success_dummy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Empty dummy callback for the CAN tx success handling. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00228">228</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae3d238a5bdc23010d1145f536ade773c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void goto_bootloader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that makes the program jump directly to the bootloader section of the FLASH (NRWW region). </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00298">298</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab11a5d77be2222a37d0b47e6556251f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_serial </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the UART for data logging through serial. This function assumes a F_CPU clock of 8 MHz. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00285">285</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4a993ef8416e6cef9788d18d128690ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IR_message_rx_dummy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_r__message__t.html">IR_message_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="module_8h.html#ad41e991130dba604949e16c69d31fd52">cell_num_t</a>&#160;</td>
          <td class="paramname"><em>sc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdistance__measurement__t.html">distance_measurement_t</a> *&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>CRC_error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Empty dummy callback function for IR rx handling. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00220">220</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="aca34d0355fd70dae658a06043054e9cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IR_message_tx_success_dummy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="module_8h.html#ad41e991130dba604949e16c69d31fd52">cell_num_t</a>&#160;</td>
          <td class="paramname"><em>sc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Empty dummy callback function for IR tx handling. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00223">223</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="afea150fcd685610cb9f7672fce361e53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ISR </td>
          <td>(</td>
          <td class="paramtype">INT0_vect&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupt Service Routine for INT0 (PD2 - nCAN_INT pin). The ISR is triggered by the reception of CAN messages. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00871">871</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a591a700830ee54b6b885b75274c5ee70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void module_enable_autostart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="module_8c_source.html#l00849">849</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="af1437b94490bc9d60c1164995357a82f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void module_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize module hardware. </p>
<p>This function initializes all hardware of the module. This includes setting hardware timers, configuring ports, setting up analog-to-digital converters, registering system interrupts and the initializing the messaging subsystem.</p>
<p>It is recommended that you call this function as early as possible inside the <code>main</code> function of your program. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00573">573</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="af7b551eec3a778c715ff2a6bbdde7343"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void module_start </td>
          <td>(</td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>setup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>loop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start module event loop. </p>
<p>This function receives two parameters. The first parameter <code>setup</code> is a function which will be called once to perform any initialization required by your user program. The second parameter <code>loop</code> is a function that will be called repeatedly to perform any computations required by your user program.</p>
<p>Using the overhead controller it is possible to interrupt the event loop to trigger events such as program start/resume, program pause, and program restart.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">setup</td><td>Put your setup code here, it will be called in a loop the configuration for the module (if any) is in the configuration variable, the size of the configuration data is configuration_size bytes. If configuration_size is 0 it means that no configuration data was received.</td></tr>
    <tr><td class="paramname">loop</td><td>Put your main code here, will be run repeatedly.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">uint32_t counter;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> setup() {</div>
<div class="line">   counter = 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> loop() {</div>
<div class="line">   counter++;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="dispatcher_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>() {</div>
<div class="line">  <a class="code" href="module_8c.html#af1437b94490bc9d60c1164995357a82f">module_init</a>();</div>
<div class="line">  <a class="code" href="module_8c.html#af7b551eec3a778c715ff2a6bbdde7343">module_start</a>(setup, loop);</div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="module_8c_source.html#l00659">659</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae0fd788116ecf03b0135e0a3bda83aef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a>* next_CAN_message </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="module_8c_source.html#l00854">854</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1f5cd7c71c427c89cdad0d33a8c45fbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RB_create </td>
          <td>(</td>
          <td class="paramtype">CAN_message_tx_buffer&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="module_8h.html#a20e01ad85d354ff599a1003e82feba40">CAN_MESSAGE_BUFFER_SIZE</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CAN messages buffer that contains the CAN user messages to be sent. </p>

</div>
</div>
<a class="anchor" id="a5e1725443c1611ceeb412f316384f6d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_IR_message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_r__message__t.html">IR_message_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="module_8h.html#ad41e991130dba604949e16c69d31fd52">cell_num_t</a>&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a message to be sent on cell number "sc" without delay. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>Message to send. </td></tr>
    <tr><td class="paramname">c</td><td>Identifier of the cell to send the message from. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="module_8c_source.html#l00319">319</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa117d789c586c2d61de729319472d0a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t send_next_CAN_message </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used internally to send the next message on the CAN message tx buffer. The function is called by the main while(1) loop (see <a class="el" href="module_8c.html#af7b551eec3a778c715ff2a6bbdde7343" title="Start module event loop. ">module_start()</a> function) at each iteration (best effort). It is the duty of the user to place CAN messages on the buffer through the add_CAN_message_to_buffer() function. </p>
<dl class="section return"><dt>Returns</dt><dd>1 if successful. </dd></dl>
<dl class="section see"><dt>See also</dt><dd>add_CAN_message_to_buffer </dd></dl>

<p>Definition at line <a class="el" href="module_8c_source.html#l00269">269</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ac18cd18a110a2b011f66fcde0211d639"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="module_8h.html#ad41e991130dba604949e16c69d31fd52">cell_num_t</a> bootloading_current_cell = <a class="el" href="module_8h.html#ad41e991130dba604949e16c69d31fd52adea8e35755fa99521edd9dd6e6e35ab6">CELL_00</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to send the Kilobot program with the different cells, and switch from one cell to the other after sending the whole program. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00161">161</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="adc268f75b3f7cfeffc0bd5f15c7ac1e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t bootpage_faulty</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates whether a received bootpage was faulty, should not be sent to the kilobot. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00156">156</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9a679592ca3ee357154d3813027b9ca1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t bootpage_sent</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates if current bootpage was sent (send only once). </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00150">150</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad20682e23ce54e0c9fad6bcbaa834e60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int8_t brightness_dir</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates if the brightness is decreasing (-1) or increasing (1). </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00182">182</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="afca12480ff20cf641fd62192be90e91f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t brightness_idle = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Brightness of the LEDs in idle state. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00179">179</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad705ac913fb2045865c4fb7e9b0969de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="kilogrid_8h.html#a87a8f7271d93f02214d31e4c7b90d06a">kilogrid_address_t</a> CAN_address_to_dispatcher</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="module_8c_source.html#l00208">208</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="abc06db6d3732919c3982ced1c0ce1498"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a> CAN_message_bootpage</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="module_8c_source.html#l00106">106</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a508888349b30efe9dcab3e594b2bba0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a> CAN_message_rx</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="module_8c_source.html#l00105">105</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2827902580541601e5b7047fea047fc3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a> CAN_message_rx_buffer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores received message until process_CAN_message transfers it into either CAN_message_rx or CAN_message_bootpage depending on the type if the message. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00116">116</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a048601749935157751b5dcfbd449477a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4">CAN_message_type_t</a> CAN_msg_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of the received CAN message. The switch in process_CAN_message is done based on this value. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00122">122</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8a56eb142377a15124e920a16a3f20d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t configuration[<a class="el" href="module_8h.html#abd5d6c9bae8df588faa703eb2dd65733">MODULE_CONFIGURATION_BUFFER_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configuration data. </p>
<p>Configuration data. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00197">197</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="afb6278f92a997646e6bee1b2f9f60735"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t configuration_faulty</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>1 if not all configuration data was received. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00185">185</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3a1a7ed1d191f92f3b5f460670fec4fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t configuration_msg_counter</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ID of the currently received configuration segment. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00191">191</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9ae803f5bb787a1ff95d2377ec1b8d41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t configuration_size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of configuration data in bytes. </p>
<p>Size of configuration data in bytes. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00194">194</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a482e996c53369093dfb24b58ed4b2904"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t configuration_total</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Value from 1 to 8: number of CAN messages with configuration data. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00188">188</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac83309c81a38fa43aef501b7612f7384"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="structbootpage__data__bytes__t.html">bootpage_data_bytes_t</a> current_bootpage</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bootpage data is loaded into this buffer from the CAN messages. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00166">166</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1e1bc79100609645f39911a1bdcf91ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t fCAN_debug_rx</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="module_8c_source.html#l00123">123</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a72687b06d1fe951282845591369abb92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t has_started</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To execute code once before running the loop() variable. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00200">200</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3d1376bc5cc9188ce6f0c45d70f87834"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_i_r__message__t.html">IR_message_t</a> IR_setup_message</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Struct that carries the message to send to the kilobots during the setup phase, used by CAN_FORWARD_IR_MESSAGE of process_CAN_message. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00174">174</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a509952f72536eb618786a02b40505686"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t messages_to_send = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="module_8c_source.html#l00202">202</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa7c8bf5218a1834d935af8389e937593"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_a_n_8h.html#ab7565ef31c096c131e47a054c1781bc6">CAN_message_rx_t</a> module_CAN_message_rx = <a class="el" href="module_8c.html#a8c9547918d2afd1ead76a6bb3b512557">CAN_message_rx_dummy</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CAN message received callback. Registering an empty dummy is necessary before receiving CAN messages. Otherwise CAN messages would make the program fail when initializing. </p>
<dl class="section note"><dt>Note</dt><dd>It is forbidden to use blocking calls in this function, as well as the moduleLED.c functionalities (too slow). </dd></dl>

<p>Definition at line <a class="el" href="module_8c_source.html#l00237">237</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7c8192f63e3faf60e348e3ea69bd6a08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_a_n_8h.html#a297b7efa86f3572af1cbb4a21216defe">CAN_message_tx_success_t</a> module_CAN_message_tx_success = <a class="el" href="module_8c.html#a9e9cfb3f5d469b4de20e329b56d16f0b">CAN_message_tx_success_dummy</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CAN message tx success callback. </p>
<dl class="section note"><dt>Note</dt><dd>It is forbidden to use blocking calls in this function, as well as the moduleLED.c functionalities (too slow). </dd></dl>

<p>Definition at line <a class="el" href="module_8c_source.html#l00244">244</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a16901b547fe4af3d10e8e1d6bf8e5d9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="module_i_r_8h.html#ad830e370c67757ef218ba8415b71053c">IR_message_rx_t</a> module_IR_message_rx = <a class="el" href="module_8c.html#a4a993ef8416e6cef9788d18d128690ef">IR_message_rx_dummy</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IR message received callback. Registering an empty dummy is necessary before receiving IR messages. Otherwise IR messages would make the program fail when initializing. </p>
<p>Callback for message reception. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00251">251</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae28b76eca9dbd57024e0b6671cca5ebe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="module_i_r_8h.html#a8aaed30f0159fda4fcfc933ac20cd6e1">IR_message_tx_success_t</a> module_IR_message_tx_success = <a class="el" href="module_8c.html#aca34d0355fd70dae658a06043054e9cc">IR_message_tx_success_dummy</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IR message successfully sent callback. Registering an empty dummy is necessary before sending IR messages. Otherwise IR messages would make the program fail. </p>
<p>Callback for successful message transmission. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00258">258</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae891f0f856ee69d3666b5207521350b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint32_t module_ticks</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>internal clock (updated in tx ISR) </p>
<p>Can be used for timing purposes, increased every 1/32th of a second. <a class="el" href="module_i_r_8h.html" title="Contains macros for timer manipulation... ">moduleIR.h</a> has TICKS_PER_SEC and <a class="el" href="module_i_r_8h.html#a805fd6827e5715e543de4bd84bcf7d14">SEC_TO_TICKS(a)</a> macros to help handling this. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00027">27</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="abd5b888083a5570e90672c011ee362ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint16_t module_uid</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>module identifier </p>
<p>Unique id of the module, used by the entire module lib, and made accessible to the user. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00026">26</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac7950c5d60d72b43b21cd367c8f9def5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="module_8c.html#a28bda91ee17b97f1fb376c6ed4613572">_static</a> volatile uint8_t module_uid_x_coord</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="module_8c_source.html#l00090">90</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a292c9329c1b7fe8091a1f0a4b61a8b37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="module_8c.html#a28bda91ee17b97f1fb376c6ed4613572">_static</a> volatile uint8_t module_uid_y_coord</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="module_8c_source.html#l00091">91</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac245b61f7ae1ec5f068424c180775769"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t page_address</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address of current bootpage, sent in a CAN_KILO_BOOTPAGE_NUMBER CAN message. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00140">140</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8604e8d580047bb41a74cc4827786662"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t page_count = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Index of current bootpage we are receiving. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00135">135</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a095e2496d849e8915cbf2dd1228f375e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t page_offset</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Position of the next data byte in the current_bootpage.data array. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00145">145</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1cba93d333ba694d3eced49d6ebb5a25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t page_total</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores the number of bootpages contained in the bootloader. Triggered by a CAN_FORWARD_IR_MESSAGE IR message with IR message type BOOTPGM_SIZE. </p>

<p>Definition at line <a class="el" href="module_8c_source.html#l00130">130</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8a73657250ad62e18f788dfaba6c9491"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t poll_debug_led_toggle = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="module_8c_source.html#l00210">210</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a92764a98133cfbb6101e099d677c010a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a> poll_response_message</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="module_8c_source.html#l00212">212</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a907212931c9d659eb043e2f5ab3a5f09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t previous_CAN_msg_number</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="module_8c_source.html#l00168">168</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a447099e5fd21d6f33474f25b7e1b7a0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t received_setup</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="module_8c_source.html#l00176">176</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="a285a2240e12d130c50216b18f51e32f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t sending_tracking_data = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="module_8c_source.html#l00204">204</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a class="anchor" id="abf32a1002b39c6f25d04ffb98804c48c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t sent_tracking_header = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="module_8c_source.html#l00206">206</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->

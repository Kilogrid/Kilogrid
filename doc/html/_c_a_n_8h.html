<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Kilogrid: src/common/CAN.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kilogrid
   </div>
   <div id="projectbrief">Kilogrid library documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_c_a_n_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">CAN.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;platform.h&quot;</code><br />
<code>#include &quot;stdint.h&quot;</code><br />
<code>#include &quot;<a class="el" href="mcp2515_8h_source.html">mcp2515.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="kilogrid_8h_source.html">kilogrid.h</a>&quot;</code><br />
</div>
<p><a href="_c_a_n_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ab7565ef31c096c131e47a054c1781bc6"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_c_a_n_8h.html#ab7565ef31c096c131e47a054c1781bc6">CAN_message_rx_t</a> )(<a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a> *)</td></tr>
<tr class="separator:ab7565ef31c096c131e47a054c1781bc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a297b7efa86f3572af1cbb4a21216defe"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_c_a_n_8h.html#a297b7efa86f3572af1cbb4a21216defe">CAN_message_tx_success_t</a> )(void)</td></tr>
<tr class="separator:a297b7efa86f3572af1cbb4a21216defe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a780df82301249b3b0b77290a643917d4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4">CAN_message_type_t</a> { <br />
&#160;&#160;<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4a168abe46ecc97e5c3082342c38b64c23">CAN_MODULE_USER</a> = 0x00, 
<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4a20c0ef748f4aa6ca6cf355bdc30b8c6e">CAN_FORWARD_IR_MESSAGE</a>, 
<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4a72426fbb3a2d54ebb7311b0141a62909">CAN_FORWARD_IR_MESSAGE_STOP</a>, 
<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4ae981ac8ca77b05489323f36b2487cd3c">CAN_KILO_BOOTPAGE</a>, 
<br />
&#160;&#160;<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4a7b86bfa66c941ea447b9f484fcc0d8bb">CAN_KILO_BOOTPAGE_SIZE</a>, 
<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4a2a8b89b2a1abedd0b1609397a91ce72f">CAN_KILO_BOOTPAGE_NUMBER</a>, 
<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4ad14abed5a513332924b20a3201cb5208">CAN_MODULE_BOOT</a>, 
<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4a29fa910050b6a041a406b66b267ac81a">CAN_MODULE_BOOTPAGE</a>, 
<br />
&#160;&#160;<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4a73f783b0cb16d479aa00585baee15098">CAN_MODULE_BOOTPAGE_SIZE</a>, 
<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4aae3c082c77540ce9afcb82b63a6e38e8">CAN_MODULE_BOOTPAGE_NUMBER</a>, 
<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4a856f1a284d28b6b350ddfac177a1a78d">CAN_MODULE_KILOBOT_SETUP</a>, 
<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4a284d950577666c6dbf5e53c97e2592f6">CAN_MODULE_IDLE</a>, 
<br />
&#160;&#160;<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4ae432988b83333570777e09a35685930c">CAN_MODULE_SETUP</a>, 
<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4ad05f41789da52207d86c6515e9f23656">CAN_MODULE_RUN</a>, 
<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4a31930fa22ce7cb5c52bef00e02377776">CAN_MODULE_PAUSE</a>, 
<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4af9d4db067c36fe06f6e70f64e9b4d5d1">CAN_MODULE_CONFIG_SIZE</a>, 
<br />
&#160;&#160;<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4ad041b27436b3739a9f3491349c88d6b4">CAN_MODULE_CONFIG_TRANSFER</a>, 
<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4ae66a5d026641ee5b7efd579eaf0e6813">CAN_TRACKING_KILOBOT</a>, 
<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4a64d6cf01cd939b5692e7999a41763c14">CAN_KILOBOT_DATA</a>, 
<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4a99d622f4cfa1da4030005a6994dd5ece">CAN_MODULE_DATA</a>, 
<br />
&#160;&#160;<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4a6fb1668f201b6dc4c6c30804a9b9dee4">CAN_TRACKING_KILOBOT_START</a>, 
<a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4a58abb02694d1d7c8e0ae0725f027dead">CAN_TRACKING_REQ</a>
<br />
 }</td></tr>
<tr class="memdesc:a780df82301249b3b0b77290a643917d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">CAN message types enumeration. New types must be added at the end of the enumeration, for backward compatibility of the code with previous revisions, and more importantly with the module bootloader firmware. Maximum 2^6 = 64 types are alloved, because serialize_tracking_message uses the highest 2 bits for the module identifier.  <a href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4">More...</a><br /></td></tr>
<tr class="separator:a780df82301249b3b0b77290a643917d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a73ac80de3409f0230bf6005cc25be751"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_c_a_n_8h.html#a73ac80de3409f0230bf6005cc25be751">init_CAN_message</a> (<a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a> *)</td></tr>
<tr class="separator:a73ac80de3409f0230bf6005cc25be751"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8255e16f083233b516d7f554ddade258"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_c_a_n_8h.html#a8255e16f083233b516d7f554ddade258">init_module_CAN</a> (uint8_t, uint8_t)</td></tr>
<tr class="separator:a8255e16f083233b516d7f554ddade258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d8b18c1e9e9379c0cb8326e3cce640b"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_c_a_n_8h.html#a1d8b18c1e9e9379c0cb8326e3cce640b">CAN_message_tx</a> (<a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a> *, <a class="el" href="kilogrid_8h.html#a87a8f7271d93f02214d31e4c7b90d06a">kilogrid_address_t</a>)</td></tr>
<tr class="memdesc:a1d8b18c1e9e9379c0cb8326e3cce640b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function modifies the ID field of the CAN message to be sent, according to the Kilogrid addressing scheme.  <a href="#a1d8b18c1e9e9379c0cb8326e3cce640b">More...</a><br /></td></tr>
<tr class="separator:a1d8b18c1e9e9379c0cb8326e3cce640b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c4d6161545b3bb3e7ac35502d7a5695"><td class="memItemLeft" align="right" valign="top"><a class="el" href="kilogrid_8h.html#a87a8f7271d93f02214d31e4c7b90d06a">kilogrid_address_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_c_a_n_8h.html#a9c4d6161545b3bb3e7ac35502d7a5695">get_coord_from_CAN_ID</a> (<a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a> *)</td></tr>
<tr class="separator:a9c4d6161545b3bb3e7ac35502d7a5695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c4253df4d3cec6ede0b9159d5ceb7d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_c_a_n_8h.html#a6c4253df4d3cec6ede0b9159d5ceb7d9">serialize_tracking_message</a> (<a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a> *msg, uint8_t cell_id, <a class="el" href="kilogrid_8h.html#a076098c0af2ea2c910e2e870dfb07091">tracking_user_data_t</a> *data)</td></tr>
<tr class="memdesc:a6c4253df4d3cec6ede0b9159d5ceb7d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serialize CAN tracking message struct into a CAN message. The data contained in the former will be compressed according to the number of bits required for each field, and assigned to the data field of the CAN message. Note that the rest of the fields in the data message (e.g. address field) will remain untouched.  <a href="#a6c4253df4d3cec6ede0b9159d5ceb7d9">More...</a><br /></td></tr>
<tr class="separator:a6c4253df4d3cec6ede0b9159d5ceb7d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa7c8bf5218a1834d935af8389e937593"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_a_n_8h.html#ab7565ef31c096c131e47a054c1781bc6">CAN_message_rx_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_c_a_n_8h.html#aa7c8bf5218a1834d935af8389e937593">module_CAN_message_rx</a></td></tr>
<tr class="memdesc:aa7c8bf5218a1834d935af8389e937593"><td class="mdescLeft">&#160;</td><td class="mdescRight">CAN message received callback. Registering an empty dummy is necessary before receiving CAN messages. Otherwise CAN messages would make the program fail when initializing.  <a href="#aa7c8bf5218a1834d935af8389e937593">More...</a><br /></td></tr>
<tr class="separator:aa7c8bf5218a1834d935af8389e937593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c8192f63e3faf60e348e3ea69bd6a08"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_a_n_8h.html#a297b7efa86f3572af1cbb4a21216defe">CAN_message_tx_success_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_c_a_n_8h.html#a7c8192f63e3faf60e348e3ea69bd6a08">module_CAN_message_tx_success</a></td></tr>
<tr class="memdesc:a7c8192f63e3faf60e348e3ea69bd6a08"><td class="mdescLeft">&#160;</td><td class="mdescRight">CAN message tx success callback.  <a href="#a7c8192f63e3faf60e348e3ea69bd6a08">More...</a><br /></td></tr>
<tr class="separator:a7c8192f63e3faf60e348e3ea69bd6a08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ab7565ef31c096c131e47a054c1781bc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* CAN_message_rx_t)(<a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a> *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_c_a_n_8h_source.html#l00050">50</a> of file <a class="el" href="_c_a_n_8h_source.html">CAN.h</a>.</p>

</div>
</div>
<a class="anchor" id="a297b7efa86f3572af1cbb4a21216defe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* CAN_message_tx_success_t)(void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_c_a_n_8h_source.html#l00051">51</a> of file <a class="el" href="_c_a_n_8h_source.html">CAN.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a780df82301249b3b0b77290a643917d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_c_a_n_8h.html#a780df82301249b3b0b77290a643917d4">CAN_message_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CAN message types enumeration. New types must be added at the end of the enumeration, for backward compatibility of the code with previous revisions, and more importantly with the module bootloader firmware. Maximum 2^6 = 64 types are alloved, because serialize_tracking_message uses the highest 2 bits for the module identifier. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4a168abe46ecc97e5c3082342c38b64c23"></a>CAN_MODULE_USER&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4a20c0ef748f4aa6ca6cf355bdc30b8c6e"></a>CAN_FORWARD_IR_MESSAGE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4a72426fbb3a2d54ebb7311b0141a62909"></a>CAN_FORWARD_IR_MESSAGE_STOP&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4ae981ac8ca77b05489323f36b2487cd3c"></a>CAN_KILO_BOOTPAGE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4a7b86bfa66c941ea447b9f484fcc0d8bb"></a>CAN_KILO_BOOTPAGE_SIZE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4a2a8b89b2a1abedd0b1609397a91ce72f"></a>CAN_KILO_BOOTPAGE_NUMBER&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4ad14abed5a513332924b20a3201cb5208"></a>CAN_MODULE_BOOT&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4a29fa910050b6a041a406b66b267ac81a"></a>CAN_MODULE_BOOTPAGE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4a73f783b0cb16d479aa00585baee15098"></a>CAN_MODULE_BOOTPAGE_SIZE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4aae3c082c77540ce9afcb82b63a6e38e8"></a>CAN_MODULE_BOOTPAGE_NUMBER&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4a856f1a284d28b6b350ddfac177a1a78d"></a>CAN_MODULE_KILOBOT_SETUP&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4a284d950577666c6dbf5e53c97e2592f6"></a>CAN_MODULE_IDLE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4ae432988b83333570777e09a35685930c"></a>CAN_MODULE_SETUP&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4ad05f41789da52207d86c6515e9f23656"></a>CAN_MODULE_RUN&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4a31930fa22ce7cb5c52bef00e02377776"></a>CAN_MODULE_PAUSE&#160;</td><td class="fielddoc">
<p>IGNORED! </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4af9d4db067c36fe06f6e70f64e9b4d5d1"></a>CAN_MODULE_CONFIG_SIZE&#160;</td><td class="fielddoc">
<p>Number of 6 byte configuration data segments. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4ad041b27436b3739a9f3491349c88d6b4"></a>CAN_MODULE_CONFIG_TRANSFER&#160;</td><td class="fielddoc">
<p>Configuration data transmission. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4ae66a5d026641ee5b7efd579eaf0e6813"></a>CAN_TRACKING_KILOBOT&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4a64d6cf01cd939b5692e7999a41763c14"></a>CAN_KILOBOT_DATA&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4a99d622f4cfa1da4030005a6994dd5ece"></a>CAN_MODULE_DATA&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4a6fb1668f201b6dc4c6c30804a9b9dee4"></a>CAN_TRACKING_KILOBOT_START&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a780df82301249b3b0b77290a643917d4a58abb02694d1d7c8e0ae0725f027dead"></a>CAN_TRACKING_REQ&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="_c_a_n_8h_source.html#l00023">23</a> of file <a class="el" href="_c_a_n_8h_source.html">CAN.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a1d8b18c1e9e9379c0cb8326e3cce640b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CAN_message_tx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a> *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="kilogrid_8h.html#a87a8f7271d93f02214d31e4c7b90d06a">kilogrid_address_t</a>&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function modifies the ID field of the CAN message to be sent, according to the Kilogrid addressing scheme. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">message</td><td>Message to be sent </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dest</td><td>Address in Kilogrid </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 1 if succeeded. </dd></dl>

<p>Definition at line <a class="el" href="_c_a_n_8c_source.html#l00165">165</a> of file <a class="el" href="_c_a_n_8c_source.html">CAN.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9c4d6161545b3bb3e7ac35502d7a5695"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="kilogrid_8h.html#a87a8f7271d93f02214d31e4c7b90d06a">kilogrid_address_t</a> get_coord_from_CAN_ID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_c_a_n_8c_source.html#l00186">186</a> of file <a class="el" href="_c_a_n_8c_source.html">CAN.c</a>.</p>

</div>
</div>
<a class="anchor" id="a73ac80de3409f0230bf6005cc25be751"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_CAN_message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_c_a_n_8c_source.html#l00084">84</a> of file <a class="el" href="_c_a_n_8c_source.html">CAN.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8255e16f083233b516d7f554ddade258"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_module_CAN </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_c_a_n_8c_source.html#l00092">92</a> of file <a class="el" href="_c_a_n_8c_source.html">CAN.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6c4253df4d3cec6ede0b9159d5ceb7d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void serialize_tracking_message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n__message__t.html">CAN_message_t</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cell_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="kilogrid_8h.html#a076098c0af2ea2c910e2e870dfb07091">tracking_user_data_t</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serialize CAN tracking message struct into a CAN message. The data contained in the former will be compressed according to the number of bits required for each field, and assigned to the data field of the CAN message. Note that the rest of the fields in the data message (e.g. address field) will remain untouched. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>Pointer to the CAN tracking message struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">CAN_msg</td><td>Pointer to the CAN message that is the target of the serialization </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_a_n_8c_source.html#l00227">227</a> of file <a class="el" href="_c_a_n_8c_source.html">CAN.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="aa7c8bf5218a1834d935af8389e937593"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_a_n_8h.html#ab7565ef31c096c131e47a054c1781bc6">CAN_message_rx_t</a> module_CAN_message_rx</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CAN message received callback. Registering an empty dummy is necessary before receiving CAN messages. Otherwise CAN messages would make the program fail when initializing. </p>
<dl class="section note"><dt>Note</dt><dd>It is forbidden to use blocking calls in this function, as well as the moduleLED.c functionalities (too slow). </dd></dl>

<p>Definition at line <a class="el" href="_c_a_n_8c_source.html#l00019">19</a> of file <a class="el" href="_c_a_n_8c_source.html">CAN.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7c8192f63e3faf60e348e3ea69bd6a08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_a_n_8h.html#a297b7efa86f3572af1cbb4a21216defe">CAN_message_tx_success_t</a> module_CAN_message_tx_success</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CAN message tx success callback. </p>
<dl class="section note"><dt>Note</dt><dd>It is forbidden to use blocking calls in this function, as well as the moduleLED.c functionalities (too slow). </dd></dl>

<p>Definition at line <a class="el" href="_c_a_n_8c_source.html#l00020">20</a> of file <a class="el" href="_c_a_n_8c_source.html">CAN.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
